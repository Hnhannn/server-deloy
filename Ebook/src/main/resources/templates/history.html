<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<title>History</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

	<link rel="stylesheet" type="text/css" href="css/normalize.css">
	<link rel="stylesheet" type="text/css" href="icomoon/icomoon.css">
	<link rel="stylesheet" type="text/css" href="css/vendor.css">
	<link rel="stylesheet" type="text/css" href="style.css">
	<style type="text/css">
		@media (min-width : 1025px) {
			.h-custom {
				height: 100vh !important;
			}
		}
	</style>
</head>

<body>
	<jsp:include page="layout/header.jsp" />
	<section class="h-100 h-custom">
		<div class="container h-100 py-5">
			<div class="card shadow-2-strong mb-5 mb-lg-0 px-3 py-3 bg-custom" style="border-radius: 5px;">
				<div class="row">
					<h4>Bomie Store</h4>
					<div class="col-lg-12">
						<div class="card mt-3 mb-3">
							<div class="row">
								<div class="col-lg-6">
									<h5 class="card-tile mb-0">History</h5>
								</div>
								<div class="col-lg-6">
									<h5 class="card-tile mb-0 px-5">Hoàn thành</h5>
								</div>
							</div>
							<!-- <div class="card-header">
								<h5 class="card-tile mb-0">History</h5>
							</div> -->

							<div class="col-lg-12">
								<div class="card mt-3 mb-3">
									<div class="row">
										<div class="col-lg-9">
											<div class="table-responsive">
												<table class="table m-0">
													<thead>
														<tr>
															<th scope="col" class="h3">Shopping Bag</th>
															<th scope="col">Hãy chăm sóc mẹ</th>
															<th scope="col">123.000</th>
															<th></th>
														</tr>
													</thead>
													<tbody>
														<!-- Lặp qua danh sách các sản phẩm trong giỏ hàng -->
														<c:forEach var="cartLine" items="${cartLines}">
															<tr>
																<td>
																	<div class="d-flex align-items-center">
																		<img src="/img/${cartLine.book.bookImage}"
																			class="img-fluid rounded-3"
																			style="width: 120px;" alt="Book">
																		<div class="flex-column ms-4">
																			<p class="mb-2">${cartLine.book.title}</p>
																		</div>
																	</div>
																</td>
																<td class="align-middle">
																	<div class="d-flex flex-row">
																		<!-- Kiểm tra nếu số lượng lớn hơn 0 mới hiển thị nút giảm -->
																		<c:if test="${cartLine.quantity != 1}">
																			<a href="/downCart/${cartLine.book.bookId}"><i
																					class="fa fa-minus"
																					aria-hidden="true"></i></a>
																		</c:if>
																		<c:if test="${cartLine.quantity == 1}">
																			<a href="#" onclick="return false;"><i
																					class="fa fa-minus"
																					aria-hidden="true"
																					style="opacity: 0.5;"></i></a>
																		</c:if>

																		<input id="form1" name="quantity"
																			value="${cartLine.quantity}" type="text"
																			class="form-control form-control-sm text-center ms-2 me-2"
																			style="width: 50px;" readonly /> <a
																			href="/addCart/${cartLine.book.bookId}"><i
																				class="fa fa-plus"
																				aria-hidden="true"></i></a>
																	</div>
																</td>
																<td class="align-middle">
																	<!-- Định dạng giá thành tiền tệ VND -->
																	<fmt:formatNumber value="${cartLine.book.bookPrice}"
																		type="currency" currencySymbol="₫"
																		maxFractionDigits="0" />
																</td>
																<td><a href="/deleteCart/${cartLine.book.bookId}"><i
																			class="fa fa-times"
																			aria-hidden="true"></i></a></td>
															</tr>
														</c:forEach>

													</tbody>
												</table>
											</div>
										</div>
										<div class="col-lg-3">

										</div>
									</div>
								</div>
							</div>
							<div class="card-body">
								<div class="row">
									<div class="col-lg-5">
										<%-- <div class="mt-3">
											<label for="" class="form-label">1 sản phẩm</label>
											<form action="model attribute">
												<form:radiobutton class="form-control" path="" />
											</form>
											Giao hàng thành công
									</div> --%>
								</div>
								<div class="col-lg-7">
									<div class="row">
										<div class="col-lg-6">
											<label for="" class="form-label">1 sản phẩm</label>
										</div>
										<div class="col-lg-6">
											<h5 class="card-tile mb-0">Thành tiền: d123.000</h5>
										</div>
									</div>
									<!-- <div class="card-header">
										
										<label for="" class="form-label">1 sản phẩm</label> 
								<h5 class="card-tile mb-0">Thành tiền: d123.000</h5>
							</div> -->
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="col-lg-12">
					<div class="card mt-3 mb-3">
						<div class="row">
							<div class="col-lg-9">
								<div class="table-responsive">
									<table class="table m-0">
										<thead>
											<tr>
												<th scope="col" class="h3">Giao hàng thành công</th>
												<th></th>
											</tr>
											<tr>
												<th scope="col" class="h3"><a href="/home"
														class="btn btn-primary btn-block btn-lg mt-0">Detail</a></th>
												<th></th>
											</tr>


										</thead>
										<tbody>
											<!-- Lặp qua danh sách các sản phẩm trong giỏ hàng -->
											<c:forEach var="cartLine" items="${cartLines}">
												<tr>
													<td>
														<div class="d-flex align-items-center">
															<img src="/img/${cartLine.book.bookImage}"
																class="img-fluid rounded-3" style="width: 120px;"
																alt="Book">
															<div class="flex-column ms-4">
																<p class="mb-2">${cartLine.book.title}</p>
															</div>
														</div>
													</td>
													<td class="align-middle">
														<div class="d-flex flex-row">
															<!-- Kiểm tra nếu số lượng lớn hơn 0 mới hiển thị nút giảm -->
															<c:if test="${cartLine.quantity != 1}">
																<a href="/downCart/${cartLine.book.bookId}"><i
																		class="fa fa-minus" aria-hidden="true"></i></a>
															</c:if>
															<c:if test="${cartLine.quantity == 1}">
																<a href="#" onclick="return false;"><i
																		class="fa fa-minus" aria-hidden="true"
																		style="opacity: 0.5;"></i></a>
															</c:if>

															<input id="form1" name="quantity"
																value="${cartLine.quantity}" type="text"
																class="form-control form-control-sm text-center ms-2 me-2"
																style="width: 50px;" readonly /> <a
																href="/addCart/${cartLine.book.bookId}"><i
																	class="fa fa-plus" aria-hidden="true"></i></a>
														</div>
													</td>
													<td class="align-middle">
														<!-- Định dạng giá thành tiền tệ VND -->
														<fmt:formatNumber value="${cartLine.book.bookPrice}"
															type="currency" currencySymbol="₫" maxFractionDigits="0" />
													</td>
													<td><a href="/deleteCart/${cartLine.book.bookId}"><i
																class="fa fa-times" aria-hidden="true"></i></a></td>
												</tr>
											</c:forEach>

										</tbody>
									</table>
								</div>
							</div>
							<div class="col-lg-3">

							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		</div>
	</section>
</body>

</html>